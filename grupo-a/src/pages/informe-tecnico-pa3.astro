---
import Layout from '../layouts/MainLayout.astro';

import CodeBlock from '../components/ui/CodeBlock.astro';

const progreso = [
  { paso: "Configuración inicial", completado: true },
  { paso: "Fase RED del BaseORM", completado: true },
  { paso: "Fase GREEN del BaseORM", completado: true },
  { paso: "Fase REFACTOR del BaseORM", completado: true },
  { paso: "Implementación ORM completa", completado: true },
  { paso: "Implementación del servicio de autenticación", completado: true },
  { paso: "Implementación del panel de administración", completado: true },
  { paso: "Tests unitarios y de integración", completado: true },
  { paso: "CI/CD con GitHub Actions", completado: true }
];
---

<Layout title="Informe Técnico PA3">
  <main class="container mx-auto px-4 py-8 max-w-4xl bg-white dark:bg-gray-900">
    <!-- Portada y Datos del Equipo -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-5 pt-2 text-indigo-800 dark:text-indigo-300">Portada y Datos del Equipo</h2>
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm dark:shadow-none">
        <ul class="list-disc pl-8 mb-3 space-y-1">
          <li><strong>Nombre del Proyecto:</strong> Sistema de Gestión de Perfiles Estudiantiles</li>
          <li><strong>Integrantes:</strong>
            <ul class="list-disc pl-8">
              <li>EDWIN WILSON MENDEZ ECHEVARRIA — 45088035@continental.edu.pe</li>
              <li>SAULO SOTO SILVESTRE — 71840465@continental.edu.pe</li>
              <li>JORGE ALBERTO BACA LIPE — 71205979@continental.edu.pe</li>
              <li>JULIO CESAR GUILLERMO COLCA — 41925797@continental.edu.pe</li>
              <li>PEPE PINO HUAMANI — 70520575@continental.edu.pe</li>
              <li>BRAMYER ALEX SUCA CCALLO — 75961185@continental.edu.pee</li>
            </ul>
          </li>
          <li><strong>Fecha de entrega:</strong> 27/04/2025</li>
          <li><strong>Docente:</strong> AMIR FERNANDO MAMDOUH MEHREZ GARCIA</li>
        </ul>
        <p class="mt-4 text-lg text-gray-600 dark:text-gray-300">
          Este informe describe el proceso de desarrollo de un sistema web para la gestión de perfiles estudiantiles, implementando un ORM sobre archivos JSON y aplicando TDD, pruebas unitarias y CI/CD.
        </p>
      </div>
    </section>

    <!-- Formación de Equipos -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-5 pt-2 text-indigo-800 dark:text-indigo-300">Formación de Equipos</h2>
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm dark:shadow-none">
        <p class="text-gray-600 dark:text-gray-300">
          El equipo se conformó aleatoriamente por el profesor. Cada integrante tiene un rol específico.
        </p>
      </div>
    </section>

    <!-- Definición del Proyecto -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-5 pt-2 text-indigo-800 dark:text-indigo-300">Definición del Proyecto</h2>
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm dark:shadow-none">
        <p class="mb-4 text-lg text-gray-600 dark:text-gray-300">
          El proyecto consiste en un portafolio grupal:
        </p>
        <ul class="list-disc pl-8 mb-3 space-y-1">
          <li>Implementación de un ORM sobre archivos JSON</li>
          <li>Aplicación de TDD y pruebas unitarias</li>
          <li>Integración de pruebas en el flujo ágil</li>
          <li>Documentación y reporte</li>
        </ul>
        <p class="mb-4 text-lg text-gray-600 dark:text-gray-300">
          <strong>Objetivo General:</strong> Desarrollar un sistema robusto y seguro para la gestión de perfiles, aplicando buenas prácticas de ingeniería de software.
        </p>
        <p class="mb-4 text-lg text-gray-600 dark:text-gray-300">
          <strong>Objetivos Específicos:</strong>
        </p>
        <ul class="list-disc pl-8 mb-3 space-y-1">
          <li>Implementar un ORM sobre archivos JSON</li>
          <li>Aplicar TDD y pruebas unitarias en las funcionalidades críticas</li>
          <li>Documentar el proceso de desarrollo y resultados</li>
        </ul>
        <!-- Espacio para imagen de arquitectura -->
        <!-- <img src="/ruta/a/tu/diagrama-arquitectura.png" alt="Diagrama de arquitectura" class="my-4" /> -->
      </div>
    </section>

    <!-- Índice -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-5 pt-2 text-indigo-800 dark:text-indigo-300">Índice</h2>
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm dark:shadow-none">
        <ol class="list-decimal pl-8 mb-3 space-y-1">
          <li>Progreso del Desarrollo</li>
          <li>Introducción</li>
          <li>Formación de Equipos</li>
          <li>Definición del Proyecto</li>
          <li>Diseño de Pruebas Unitarias</li>
          <li>Aplicación de TDD</li>
          <li>Uso de ORM</li>
          <li>Integración de Pruebas en el Flujo Ágil</li>
          <li>Documentación y Reporte</li>
          <li>Entrega del Proyecto y Recursos</li>
          <li><span class="font-bold text-green-700 dark:text-green-400">Implementación de Docker y Portabilidad <span class="bg-green-200 text-green-900 px-2 py-1 rounded ml-2">NUEVO</span></span></li>
          <li>Anexos</li>
        </ol>
      </div>
    </section>

    <!-- Diseño de Pruebas Unitarias -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-5 pt-2 text-indigo-800 dark:text-indigo-300">Diseño de Pruebas Unitarias</h2>
      
      <!-- Introducción general a las pruebas unitarias -->
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm mb-8">
        <p class="mb-4">
          Las pruebas unitarias son fundamentales en nuestro proyecto, ya que permiten verificar de manera aislada y sistemática el funcionamiento correcto de cada componente individual. Para nuestro sistema, diseñamos un conjunto de pruebas enfocadas en tres componentes principales: el BaseORM (operaciones básicas de persistencia), el AuthService (seguridad y autenticación) y el ProfileORM (gestión especializada de perfiles).
        </p>
        
        <p>
          Utilizamos <strong>Vitest</strong> como framework de testing por su compatibilidad con TypeScript y su integración con nuestro entorno de desarrollo basado en Vite. Además, implementamos técnicas de mocking para simular el sistema de archivos, permitiendo pruebas aisladas y reproducibles.
        </p>
      </div>

      <!-- BaseORM -->
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm mb-8">
        <h3 class="text-xl font-semibold text-indigo-700 dark:text-indigo-300 mb-4">BaseORM - Pruebas fundamentales de persistencia</h3>
        
        <p class="mb-4">El BaseORM constituye la columna vertebral de nuestro sistema de persistencia. Sus pruebas están diseñadas para garantizar operaciones fundamentales de manejo de datos:</p>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
          <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
            <h4 class="font-semibold mb-2">Pruebas de Inicialización (initialize)</h4>
            <p class="mb-2 text-sm"><strong>Propósito:</strong> Verificar la correcta creación y gestión del almacenamiento de datos.</p>
            <p class="mb-2 text-sm"><strong>Escenarios probados:</strong></p>
            <ul class="list-disc pl-6 text-xs space-y-1">
              <li>Cuando el directorio no existe: debe crearlo automáticamente</li>
              <li>Cuando el directorio ya existe: no debe intentar recrearlo</li>
            </ul>
          </div>
          
          <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
            <h4 class="font-semibold mb-2">Pruebas de Lectura (findAll)</h4>
            <p class="mb-2 text-sm"><strong>Propósito:</strong> Garantizar la recuperación correcta de datos almacenados.</p>
            <p class="mb-2 text-sm"><strong>Escenarios probados:</strong></p>
            <ul class="list-disc pl-6 text-xs space-y-1">
              <li>Cuando no hay archivos: debe devolver un array vacío</li>
              <li>Cuando hay archivos JSON: debe cargarlos y parsearlos correctamente</li>
            </ul>
          </div>
        </div>
        
        <CodeBlock 
          title="Pruebas de Inicialización"
          filePath="/tests/lib/orm/BaseORM.test.ts"
          basePath="root"
          startLine={36}
          endLine={56}
          displayStartLine={36}
          highlightLines={[36]}
          lineNumbers={true}
          lang="ts"
        />
       
        <CodeBlock 
          title="Pruebas de Lectura(findAll)"
          filePath="/tests/lib/orm/BaseORM.test.ts"
          basePath="root"
          startLine={58}
          endLine={87}
          displayStartLine={58}
          highlightLines={[58]}
          lineNumbers={true}
          lang="ts"
        />
        <div class="mt-4 bg-blue-50 dark:bg-blue-900 p-3 rounded-lg border border-blue-200 dark:border-blue-700 text-center">
          <p class="text-sm mb-1">Para una revisión detallada del código de pruebas, se puede acceder al repositorio:</p>
          <a href="https://github.com/edwinwmendeze/nrc-23731/blob/main/grupo-a/tests/lib/orm/BaseORM.test.ts" target="_blank" class="text-blue-700 dark:text-blue-400 font-semibold hover:text-blue-900 dark:hover:text-blue-200 transition">Ver código completo de pruebas BaseORM en GitHub</a>
        </div>
      </div>
      
      <!-- AuthService -->
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm mb-8">
        <h3 class="text-xl font-semibold text-indigo-700 dark:text-indigo-300 mb-4">AuthService - Pruebas de seguridad y autenticación</h3>
        
        <p class="mb-4">El servicio de autenticación es crítico para la seguridad del sistema. Diseñamos pruebas exhaustivas para todos los aspectos de autenticación y autorización:</p>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
          <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
            <h4 class="font-semibold mb-2">Pruebas de Login</h4>
            <p class="mb-2 text-sm"><strong>Propósito:</strong> Verificar el proceso de autenticación de usuarios.</p>
            <p class="mb-2 text-sm"><strong>Escenarios probados:</strong></p>
            <ul class="list-disc pl-6 text-xs space-y-1">
              <li>Con credenciales correctas: debe autenticar y generar token</li>
              <li>Con contraseña incorrecta: debe rechazar el acceso</li>
              <li>Con usuario inexistente: debe informar adecuadamente</li>
            </ul>
          </div>
          
          <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
            <h4 class="font-semibold mb-2">Pruebas de Registro</h4>
            <p class="mb-2 text-sm"><strong>Propósito:</strong> Garantizar el registro seguro de nuevos usuarios.</p>
            <p class="mb-2 text-sm"><strong>Escenarios probados:</strong></p>
            <ul class="list-disc pl-6 text-xs space-y-1">
              <li>Con datos nuevos válidos: debe registrar correctamente</li>
              <li>Con username existente: debe rechazar para mantener unicidad</li>
              <li>Verificar hash de contraseña: nunca almacenar en texto plano</li>
            </ul>
          </div>
          
          <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
            <h4 class="font-semibold mb-2">Pruebas de Verificación de Token</h4>
            <p class="mb-2 text-sm"><strong>Propósito:</strong> Asegurar la validez de las sesiones mediante tokens JWT.</p>
            <p class="mb-2 text-sm"><strong>Escenarios probados:</strong></p>
            <ul class="list-disc pl-6 text-xs space-y-1">
              <li>Con token válido: debe validar correctamente</li>
              <li>Con token inválido: debe rechazar el acceso</li>
              <li>Extracción de información: debe recuperar datos del usuario</li>
            </ul>
          </div>
        </div>
        
        <CodeBlock 
          title="Pruebas de Login"
          filePath="/tests/lib/orm/AuthService.test.ts"
          basePath="root"
          startLine={50}
          endLine={74}
          displayStartLine={50}
          highlightLines={[50]}
          lineNumbers={true}
          lang="ts"
        />
        <div class="mt-4 mb-4 bg-blue-50 dark:bg-blue-900 p-3 rounded-lg border border-blue-200 dark:border-blue-700 text-center">
          <p class="text-sm mb-1">Para una revisión detallada del código de pruebas, se puede acceder al repositorio:</p>
          <a href="https://github.com/edwinwmendeze/nrc-23731/blob/main/grupo-a/tests/lib/services/AuthService.test.ts" target="_blank" class="text-blue-700 dark:text-blue-400 font-semibold hover:text-blue-900 dark:hover:text-blue-200 transition">Ver código completo de pruebas AuthService en GitHub</a>
        </div>
        
        <CodeBlock 
          title="Pruebas de Registro"
          filePath="/tests/lib/orm/AuthService.test.ts"
          basePath="root"
          startLine={76}
          endLine={142}
          displayStartLine={76}
          highlightLines={[76]}
          lineNumbers={true}
          lang="ts"
        />
        <div class="mt-4 mb-4 bg-blue-50 dark:bg-blue-900 p-3 rounded-lg border border-blue-200 dark:border-blue-700 text-center">
          <p class="text-sm mb-1">Para una revisión detallada del código de pruebas, se puede acceder al repositorio:</p>
          <a href="https://github.com/edwinwmendeze/nrc-23731/blob/main/grupo-a/tests/lib/services/AuthService.test.ts" target="_blank" class="text-blue-700 dark:text-blue-400 font-semibold hover:text-blue-900 dark:hover:text-blue-200 transition">Ver código completo de pruebas AuthService en GitHub</a>
        </div>
        
        <CodeBlock 
          title="Pruebas de verificación de token"
          filePath="/tests/lib/orm/AuthService.test.ts"
          basePath="root"
          startLine={144}
          endLine={162}
          displayStartLine={144}
          highlightLines={[144]}
          lineNumbers={true}
          lang="ts"
        />
        <div class="mt-4 mb-4 bg-blue-50 dark:bg-blue-900 p-3 rounded-lg border border-blue-200 dark:border-blue-700 text-center">
          <p class="text-sm mb-1">Para evaluar la implementación completa de las pruebas de seguridad:</p>
          <a href="https://github.com/edwinwmendeze/nrc-23731/blob/main/grupo-a/tests/lib/services/AuthService.test.ts" target="_blank" class="text-blue-700 dark:text-blue-400 font-semibold hover:text-blue-900 dark:hover:text-blue-200 transition">Ver código completo de pruebas AuthService en GitHub</a>
        </div>
      </div>
      
      <!-- ProfileORM -->
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm">
        <h3 class="text-xl font-semibold text-indigo-700 dark:text-indigo-300 mb-4">ProfileORM - Pruebas especializadas para gestión de perfiles</h3>
        
        <p class="mb-4">El ProfileORM extiende el BaseORM y agrega funcionalidades específicas para gestionar perfiles de usuario. Sus pruebas están organizadas por grupos funcionales:</p>
        
        <div class="mb-6">
          <h4 class="font-semibold mb-2 text-indigo-600 dark:text-indigo-300">1. Pruebas de búsqueda y filtrado</h4>
          <p class="mb-3 text-sm">Estas pruebas verifican la capacidad del sistema para encontrar perfiles según diversos criterios, esencial para la funcionalidad de búsqueda de la aplicación.</p>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-3 mb-3">
            <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">
              <h5 class="font-semibold text-sm">findByName</h5>
              <p class="text-xs mb-1"><strong>Propósito:</strong> Búsqueda de perfiles por nombre.</p>
              <p class="text-xs"><strong>Escenarios:</strong> Coincidencia exacta y parcial.</p>
            </div>
            
            <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">
              <h5 class="font-semibold text-sm">findBySkill</h5>
              <p class="text-xs mb-1"><strong>Propósito:</strong> Búsqueda por habilidades.</p>
              <p class="text-xs"><strong>Escenarios:</strong> Por nombre, palabra clave y sin coincidencias.</p>
            </div>
            
            <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">
              <h5 class="font-semibold text-sm">findBySkillType</h5>
              <p class="text-xs mb-1"><strong>Propósito:</strong> Filtrado por tipo de habilidad.</p>
              <p class="text-xs"><strong>Escenarios:</strong> Hard skills y soft skills.</p>
            </div>
          </div>
          
          <CodeBlock 
            title="Pruebas de búsqueda por nombre"
            filePath="/tests/lib/orm/ProfileORM.test.ts"
            basePath="root"
            startLine={145}
            endLine={161}
            displayStartLine={145}
            highlightLines={[145]}
            lineNumbers={true}
            lang="ts"
          />
          

          <CodeBlock 
            title="Pruebas de búsqueda por habilidad"
            filePath="/tests/lib/orm/ProfileORM.test.ts"
            basePath="root"
            startLine={163}
            endLine={183}
            displayStartLine={163}
            highlightLines={[163]}
            lineNumbers={true}
            lang="ts"
          />
          
          <CodeBlock 
            title="Pruebas de búsqueda por tipo de habilidad"
            filePath="/tests/lib/orm/ProfileORM.test.ts"
            basePath="root"
            startLine={185}
            endLine={198}
            displayStartLine={185}
            highlightLines={[185]}
            lineNumbers={true}
            lang="ts"
          />
        </div>
        
        <div class="mb-6">
          <h4 class="font-semibold mb-2 text-indigo-600 dark:text-indigo-300">2. Pruebas de gestión de habilidades</h4>
          <p class="mb-3 text-sm">Estas pruebas validan las operaciones CRUD específicas para habilidades dentro de perfiles, fundamentales para mantener perfiles actualizados.</p>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-3">
            <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">
              <h5 class="font-semibold text-sm">addSkill</h5>
              <p class="text-xs mb-1"><strong>Propósito:</strong> Añadir o actualizar habilidades en perfiles.</p>
              <p class="text-xs"><strong>Escenarios:</strong> Habilidad nueva y actualización de existente.</p>
            </div>
            
            <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">
              <h5 class="font-semibold text-sm">removeSkill</h5>
              <p class="text-xs mb-1"><strong>Propósito:</strong> Eliminar habilidades de perfiles.</p>
              <p class="text-xs"><strong>Escenarios:</strong> Eliminación correcta y manejo de habilidad inexistente.</p>
            </div>
          </div>
          
          <CodeBlock 
            title="Pruebas de añadir skill en ProfileORM"
            filePath="/tests/lib/orm/ProfileORM.test.ts"
            basePath="root"
            startLine={200}
            endLine={239}
            displayStartLine={200}
            highlightLines={[200]}
            lineNumbers={true}
            lang="ts"
          />
          
          <CodeBlock 
            title="Pruebas de eliminar skill en ProfileORM"
            filePath="/tests/lib/orm/ProfileORM.test.ts"
            basePath="root"
            startLine={241}
            endLine={264}
            displayStartLine={241}
            highlightLines={[241]}
            lineNumbers={true}
            lang="ts"
          />
        </div>
        
        <div class="mb-6">
          <h4 class="font-semibold mb-2 text-indigo-600 dark:text-indigo-300">3. Pruebas de validación y funcionalidades avanzadas</h4>
          <p class="mb-3 text-sm">Estas pruebas verifican tanto la integridad de los datos como características especializadas para el análisis de perfiles.</p>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-3 mb-3">
            <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">
              <h5 class="font-semibold text-sm">validateProfile</h5>
              <p class="text-xs mb-1"><strong>Propósito:</strong> Validar la integridad de los perfiles.</p>
              <p class="text-xs"><strong>Escenarios:</strong> Perfil válido y detección de errores.</p>
            </div>
            
            <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">
              <h5 class="font-semibold text-sm">findWithFeaturedProjects</h5>
              <p class="text-xs mb-1"><strong>Propósito:</strong> Filtrar perfiles con proyectos destacados.</p>
              <p class="text-xs"><strong>Escenarios:</strong> Con destacados y sin destacados.</p>
            </div>
            
            <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">
              <h5 class="font-semibold text-sm">getStats</h5>
              <p class="text-xs mb-1"><strong>Propósito:</strong> Generar estadísticas del sistema.</p>
              <p class="text-xs"><strong>Escenarios:</strong> Conteo de perfiles, habilidades y proyectos.</p>
            </div>
          </div>
          
          <CodeBlock 
            title="Pruebas de validación de perfil"
            filePath="/tests/lib/orm/ProfileORM.test.ts"
            basePath="root"
            startLine={266}
            endLine={291}
            displayStartLine={266}
            highlightLines={[266]}
            lineNumbers={true}
            lang="ts"
          />
          
          <CodeBlock 
            title="Pruebas de proyectos destacados"
            filePath="/tests/lib/orm/ProfileORM.test.ts"
            basePath="root"
            startLine={293}
            endLine={320}
            displayStartLine={293}
            highlightLines={[293]}
            lineNumbers={true}
            lang="ts"
          />
          
          <CodeBlock 
            title="Pruebas de estadísticas"
            filePath="/tests/lib/orm/ProfileORM.test.ts"
            basePath="root"
            startLine={322}
            endLine={334}
            displayStartLine={322}
            highlightLines={[322]}
            lineNumbers={true}
            lang="ts"
          />
        </div>
        
        <div class="bg-indigo-50 dark:bg-indigo-900 p-4 rounded-lg mb-4">
          <h4 class="font-semibold mb-2">Estrategia de cobertura</h4>
          <p class="text-sm">Las pruebas del ProfileORM fueron diseñadas para cubrir tanto los casos de uso típicos como los escenarios límite, incluyendo:</p>
          <ul class="list-disc pl-6 text-xs space-y-1 mt-2">
            <li>Casos positivos donde todo funciona según lo esperado</li>
            <li>Manejo de errores y excepciones</li>
            <li>Casos límite (datos vacíos, búsquedas sin resultados)</li>
            <li>Validación de integridad de datos</li>
            <li>Funcionalidades específicas de dominio (estadísticas, filtros especializados)</li>
          </ul>
        </div>
        
        <div class="mt-4 bg-blue-50 dark:bg-blue-900 p-3 rounded-lg border border-blue-200 dark:border-blue-700 text-center">
          <p class="text-sm mb-1">Para un análisis completo de las pruebas de gestión de perfiles:</p>
          <a href="https://github.com/edwinwmendeze/nrc-23731/blob/main/grupo-a/tests/lib/orm/ProfileORM.test.ts" target="_blank" class="text-blue-700 dark:text-blue-400 font-semibold hover:text-blue-900 dark:hover:text-blue-200 transition">Ver código completo de pruebas ProfileORM en GitHub</a>
          <p class="text-xs mt-1 text-gray-600 dark:text-gray-400">Este enlace permite acceder al código fuente para revisar en detalle la implementación de todas las pruebas unitarias del componente.</p>
        </div>
      </div>
    </section>

    <!-- Aplicación de TDD -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-5 pt-2 text-indigo-800 dark:text-indigo-300">Aplicación de TDD</h2>
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm dark:shadow-none">
        <p class="text-gray-600 dark:text-gray-300">
            La metodología TDD (Test-Driven Development) se aplicó rigurosamente en el desarrollo del sistema de autenticación, siguiendo el ciclo Red-Green-Refactor en cada iteración. A continuación se muestra cómo se implementó esta metodología en el desarrollo del servicio de autenticación.
        </p>
        
        <div class="bg-indigo-50 dark:bg-indigo-900 p-4 rounded-lg mb-6">
          <h3 class="font-semibold mb-2 text-indigo-700 dark:text-indigo-300">El ciclo TDD aplicado</h3>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div class="bg-red-50 dark:bg-red-900 p-3 rounded-lg border border-red-100 dark:border-red-700">
              <h4 class="font-bold text-red-800 dark:text-red-300 mb-1">1. RED</h4>
              <p class="text-sm">Escribimos primero las pruebas que definían los requisitos y comportamientos esperados. Estas pruebas fallaban inicialmente porque aún no existía implementación.</p>
            </div>
            <div class="bg-green-50 dark:bg-green-900 p-3 rounded-lg border border-green-100 dark:border-green-700">
              <h4 class="font-bold text-green-800 dark:text-green-300 mb-1">2. GREEN</h4>
              <p class="text-sm">Implementamos el código mínimo necesario para que las pruebas pasaran. Esta fase se centra en la funcionalidad, no en la optimización.</p>
            </div>
            <div class="bg-blue-50 dark:bg-blue-900 p-3 rounded-lg border border-blue-100 dark:border-blue-700">
              <h4 class="font-bold text-blue-800 dark:text-blue-300 mb-1">3. REFACTOR</h4>
              <p class="text-sm">Mejoramos el código manteniendo las pruebas en verde. Optimizamos, eliminamos duplicación y mejoramos la legibilidad.</p>
            </div>
          </div>
        </div>
        
        <h3 class="font-bold text-lg mt-5 mb-2 text-indigo-700 dark:text-indigo-300">Ciclo TDD - RED</h3>
        <h5 class="font-bold mt-5 mb-2 text-indigo-700 dark:text-indigo-300">Ciclo TDD - RED Base ORM</h5>
        <img src="/images/pa3/test_tdd_fase_red.png" alt="Ciclo TDD - RED" class="my-2"/>
        <h5 class="font-bold mt-5 mb-2 text-indigo-700 dark:text-indigo-300">Ciclo TDD - RED AutORMService</h5>
        <img src="/images/pa3/test_tdd_red_auth.png" alt="Ciclo TDD - RED" class="my-2"/>

        
        <h3 class="font-bold text-lg mt-5 mb-2 text-indigo-700 dark:text-indigo-300">Ciclo TDD - GREEN</h3>
        <h5 class="font-bold mt-5 mb-2 text-indigo-700 dark:text-indigo-300">Ciclo TDD - GREEN Base ORM</h5>
        <img src="/images/pa3/test_tdd_fase_green.png" alt="Ciclo TDD - GREEN" class="my-2"/>
        <h5 class="font-bold mt-5 mb-2 text-indigo-700 dark:text-indigo-300">Ciclo TDD - GREEN AutORMService</h5>
        <img src="/images/pa3/test_tdd_green_auth.png" alt="Ciclo TDD - GREEN" class="my-2"/>

        
        <h3 class="font-bold text-lg mt-5 mb-2 text-indigo-700 dark:text-indigo-300">Ciclo TDD - REFACTOR</h3>
        <h5 class="font-bold mt-5 mb-2 text-indigo-700 dark:text-indigo-300">Ciclo TDD - REFACTOR Base ORM</h5>
        <img src="/images/pa3/test_tdd_fase_refactor.png" alt="Ciclo TDD - REFACTOR" class="my-2"/>
        <h5 class="font-bold mt-5 mb-2 text-indigo-700 dark:text-indigo-300">Ciclo TDD - REFACTOR AutORMService</h5>
        <img src="/images/pa3/test_tdd_refactor_auth.png" alt="Ciclo TDD - REFACTOR" class="my-2"/>

      </div>
      
    </section>

    

    <!-- SECCIÓN: USO DE ORM EN LOGIN Y REGISTRO (REESCRITA) -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-5 pt-2 text-indigo-800 dark:text-indigo-300">Uso de ORM en Login y Registro</h2>
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm dark:shadow-none">
        <h3 class="font-bold text-lg mt-2 mb-2 text-indigo-700 dark:text-indigo-300">¿Qué es un ORM y por qué lo usamos?</h3>
        <p class="text-gray-600 dark:text-gray-300 mb-4">
          Un <strong>ORM (Object-Relational Mapping)</strong> es una técnica que permite manipular datos de una base de datos utilizando objetos y métodos del lenguaje de programación. En nuestro proyecto, el ORM facilita la gestión de perfiles, autenticación y registro de usuarios, simplificando la interacción con los datos y permitiendo que el código sea más claro, reutilizable y fácil de mantener.
        </p>
        <h3 class="font-bold text-lg mt-4 mb-2 text-indigo-700 dark:text-indigo-300">Implementación en la lógica de login y registro</h3>
        <ol class="list-decimal pl-8 space-y-3">
          <li>
            <strong>Definición y uso del ORM:</strong>
            <ul class="list-disc pl-6">
              <li>Se implementó la clase <code>ProfileORM</code> (<code>src/lib/orm/ProfileORM.ts</code>), que extiende una clase base genérica para gestionar operaciones CRUD sobre perfiles de usuario almacenados como archivos JSON.</li>
              <li><code>ProfileORM</code> se utiliza como singleton en los servicios de la aplicación, garantizando acceso centralizado y eficiente a los datos de perfiles.</li>
            </ul>
            <CodeBlock 
              title="Fragmento de ProfileORM"
              filePath="/src/lib/orm/ProfileORM.ts"
              basePath="root"
              startLine={14}
              endLine={46}
              displayStartLine={14}
              highlightLines={[14]}
              lineNumbers={true}
              lang="ts"
            />
          </li>
          <li>
            <strong>Servicio de autenticación (<code>AuthService</code>):</strong>
            <ul class="list-disc pl-6">
              <li>El archivo <code>src/lib/services/AuthService.ts</code> implementa la lógica de login y registro de usuarios, utilizando internamente los métodos de <code>ProfileORM</code> para buscar, validar y almacenar perfiles.</li>
              <li>En el método <code>login</code>, se busca el usuario y se valida la contraseña usando el ORM.</li>
              <li>En el método <code>register</code>, se valida que el usuario no exista, se hashea la contraseña y se guarda el nuevo perfil usando el ORM.</li>
            </ul>
            <CodeBlock 
              title="Uso de ProfileORM en AuthService"
              filePath="/src/lib/services/AuthService.ts"
              basePath="root"
              startLine={78}
              endLine={169}
              displayStartLine={78}
              highlightLines={[78]}
              lineNumbers={true}
              lang="ts"
            />
          </li>
          <li>
            <strong>Integración con las páginas de Login y Registro:</strong>
            <ul class="list-disc pl-6">
              <li>En <code>/src/pages/login.astro</code> y <code>/src/pages/register.astro</code>, los formularios envían los datos al backend, donde <code>AuthService</code> y el ORM gestionan la autenticación y el registro de manera transparente para el usuario.</li>
              <li>Esto permite que el acceso y la creación de usuarios sean seguros y eficientes, y que la lógica de datos esté desacoplada de la interfaz.</li>
            </ul>
            <CodeBlock 
              title="Llamada a AuthService desde login.astro"
              filePath="/src/pages/login.astro"
              basePath="root"
              startLine={17}
              endLine={55}
              displayStartLine={17}
              highlightLines={[17]}
              lineNumbers={true}
              lang="astro"
            />
            <CodeBlock 
              title="Llamada a AuthService desde register.astro"
              filePath="/src/pages/register.astro"
              basePath="root"
              startLine={10}
              endLine={38}
              displayStartLine={10}
              highlightLines={[10]}
              lineNumbers={true}
              lang="astro"
            />
          </li>
          
        </ol>
        <h3 class="font-bold text-lg mt-6 mb-2 text-indigo-700 dark:text-indigo-300">Evidencia en video del uso real del ORM</h3>
<p class="text-gray-600 dark:text-gray-300 mb-4">
  A continuación se presentan videos demostrativos del uso real del ORM en el sistema, cubriendo procesos como inicio de sesión, registro de usuarios y consultas de perfiles.
</p>

<div class="space-y-8">
  <!-- Video: Login exitoso -->
  <figure class="flex flex-col items-center">
    <iframe width="560" height="315" src="https://www.youtube.com/embed/TdphFLqgDuo" title="Video de inicio de sesión usando ORM" frameborder="0" allowfullscreen class="rounded shadow-md border max-w-lg"></iframe>
    <figcaption class="text-sm text-gray-500 mt-2">Video 1. Inicio de sesión exitoso utilizando el ORM para validar credenciales.</figcaption>
  </figure>

  <!-- Video: Registro de usuario -->
  <figure class="flex flex-col items-center">
    <iframe width="560" height="315" src="https://www.youtube.com/embed/OiXVea8p0Hg" title="Video de registro usando ORM" frameborder="0" allowfullscreen class="rounded shadow-md border max-w-lg"></iframe>
    <figcaption class="text-sm text-gray-500 mt-2">Video 2. Registro de un nuevo usuario, persistiendo el perfil mediante el ORM.</figcaption>
  </figure>
</div>

        <h3 class="font-bold text-lg mt-4 mb-2 text-indigo-700 dark:text-indigo-300">Ventajas del enfoque ORM</h3>
        <ul class="list-disc pl-8 mb-4">
          <li>Permite separar la lógica de acceso a datos del resto de la aplicación.</li>
          <li>Facilita la reutilización y el mantenimiento del código.</li>
          <li>La arquitectura es fácilmente migrable a una base de datos real si se requiere escalar el sistema.</li>
        </ul>
        <p class="text-gray-600 dark:text-gray-300 mb-2">
          <strong>Nota:</strong> Aunque aquí nos centramos en login y registro, el ORM también se utiliza para otras funcionalidades como la gestión de proyectos y habilidades en los perfiles.
        </p>
      </div>
    </section>

    <!-- Integración de Pruebas en el Flujo Ágil -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-5 pt-2 text-indigo-800 dark:text-indigo-300">Integración de Pruebas en el Flujo Ágil</h2>
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm dark:shadow-none">
        <p class="text-gray-600 dark:text-gray-300">
          Las pruebas unitarias y de integración fueron incorporadas en el flujo de trabajo ágil del equipo, siguiendo los principios de Integración Continua (CI) y Entrega Continua (CD).
        </p>
        <h3 class="font-bold text-lg mt-4 mb-2 text-indigo-700 dark:text-indigo-300">Implementación de CI/CD con GitHub Actions</h3>
        <p class="text-gray-600 dark:text-gray-300">Se configuró un pipeline de CI/CD que ejecuta automáticamente las pruebas en cada push o pull request:</p>
        <CodeBlock 
              title="GitHub Workflow - CI Tests"
              filePath="/src/workflow/test.yml"
              basePath=""
              startLine={1}
              endLine={38}
              displayStartLine={1}
              highlightLines={[1]}
              lineNumbers={true}
              lang="yml"
            />
        
            <h3>Imagen del workflow de pruebas funcionando en GitHub</h3>
            <img src="/images/pa3/run_test_github.png" alt="Workflow de pruebas" class="w-full rounded-lg shadow-lg" />

        
        <h3 class="font-bold text-lg mt-4 mb-2 text-indigo-700 dark:text-indigo-300">Beneficios observados:</h3>
        <ul class="list-disc pl-8 mb-3 space-y-1">
          <li>Detección temprana de errores</li>
          <li>Mayor confianza en los cambios realizados</li>
          <li>Reducción del tiempo de integración</li>
          <li>Mejora en la calidad del código</li>
        </ul>
      </div>
    </section>

<h3 class="font-bold text-lg mt-6 mb-2 text-indigo-700 dark:text-indigo-300">Avance actual del trabajo grupal</h3>
<p class="text-gray-600 dark:text-gray-300 mb-4">
  A continuación se muestra el video del grupo A, presentando el avance actual de la página web desarrollada para el proyecto grupal.
</p>

<div class="space-y-8">
  <figure class="flex flex-col items-center">
    <iframe width="560" height="315" src="https://www.youtube.com/embed/QozjhkQwLz4" title="Avance del grupo A - Página Web" frameborder="0" allowfullscreen class="rounded shadow-md border max-w-lg"></iframe>
    <figcaption class="text-sm text-gray-500 mt-2">Video. Presentación del avance de la página web del grupo A.</figcaption>
  </figure>
</div>
    <!-- Documentación y Reporte -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-5 pt-2 text-indigo-800 dark:text-indigo-300">Documentación y Reporte</h2>
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm dark:shadow-none">
        <p class="text-gray-600 dark:text-gray-300">
          La documentación del proyecto se realizó de manera continua y estructurada, utilizando diferentes herramientas y formatos:
        </p>
        <ul class="list-disc pl-8 mb-3 space-y-1">
          <li><strong>Documentación de código:</strong> Comentarios descriptivos y JSDoc</li>
          <li><strong>Documentación técnica:</strong> Este informe y diagramas de arquitectura</li>
          <li><strong>Documentación de pruebas:</strong> Casos de prueba y resultados</li>
        </ul>
        <p class="mt-4 text-gray-600 dark:text-gray-300">
          El proceso de documentación siguió estas etapas:
        </p>
        <ol class="list-decimal pl-8 mb-3 space-y-1">
          <li>Documentación inicial de requisitos y arquitectura</li>
          <li>Documentación de pruebas durante el desarrollo con TDD</li>
          <li>Documentación de la implementación del ORM</li>
          <li>Documentación del proceso de CI/CD</li>
          <li>Elaboración del informe técnico final</li>
        </ol>
      </div>
    </section>

    <!-- Implementación de Docker y Portabilidad -->
    <section class="mb-12 border-4 border-green-400 bg-green-50 dark:bg-green-900 rounded-xl shadow-lg">
      <h2 class="text-3xl font-extrabold mb-5 pt-2 text-green-800 dark:text-green-300 flex items-center">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-2 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h4v4H3v-4zm0 6h4v4H3v-4zm6-6h4v4h-4v-4zm0 6h4v4h-4v-4zm6-6h4v4h-4v-4zm0 6h4v4h-4v-4z" /></svg>
        Implementación de Docker y Portabilidad <span class="bg-green-200 text-green-900 px-2 py-1 rounded ml-4">Última entrega</span>
      </h2>
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm dark:shadow-none">
        <p class="mb-4 text-lg text-gray-600 dark:text-gray-300">
          Para garantizar la portabilidad y reproducibilidad del sistema, se implementó un <strong>Dockerfile</strong> siguiendo las mejores prácticas recomendadas por la documentación oficial de Astro. Esto permite que cualquier persona pueda ejecutar el proyecto en cualquier sistema operativo, sin preocuparse por dependencias, versiones de Node.js o configuraciones locales.
        </p>
        <p class="mb-4 text-gray-600 dark:text-gray-300">
          <strong>Ventajas de usar Docker en el proyecto:</strong>
        </p>
        <ul class="list-disc pl-8 mb-3 space-y-1">
          <li><strong>Portabilidad:</strong> El entorno de ejecución es idéntico en cualquier máquina.</li>
          <li><strong>Reproducibilidad:</strong> Se evitan los problemas de "en mi máquina sí funciona".</li>
          <li><strong>Facilidad de corrección:</strong> El docente puede evaluar el proyecto rápidamente, sin instalar dependencias adicionales.</li>
          <li><strong>Despliegue profesional:</strong> El proyecto está listo para ser desplegado en cualquier plataforma compatible con Docker.</li>
        </ul>
        <p class="mb-4 text-gray-600 dark:text-gray-300">
          <strong>Instrucciones para ejecutar el proyecto con Docker:</strong>
        </p>
        <ol class="list-decimal pl-8 mb-3 space-y-1">
          <li>Clonar el repositorio:
            <CodeBlock lang="bash" code={`git clone https://github.com/edwinwmendeze/nrc-23731.git\ncd nrc-23731/grupo-a`} />
          </li>
          <li>Construir la imagen Docker:
            <CodeBlock lang="bash" code={`docker build -t portafolio-grupal .`} />
          </li>
          <li>Ejecutar el contenedor:
            <CodeBlock lang="bash" code={`docker run -p 4321:4321 portafolio-grupal`} />
          </li>
          <li>Abrir en el navegador: <span class="font-mono text-sm">http://localhost:4321</span></li>
        </ol>
        <p class="mb-4 text-gray-600 dark:text-gray-300">
          Si el puerto 4321 está ocupado, se puede cambiar el primer número por otro disponible, por ejemplo:
          <CodeBlock lang="bash" code={`docker run -p 8080:4321 portafolio-grupal`} />
          y abrir <span class="font-mono text-sm">http://localhost:8080</span>
        </p>
        <p class="mb-4 text-gray-600 dark:text-gray-300">
          <strong>Persistencia de datos:</strong> Para mantener los datos de usuarios entre reinicios del contenedor, se puede montar un volumen Docker:
          <CodeBlock lang="bash" code={`docker run -p 4321:4321 -v $(pwd)/src/data:/app/src/data portafolio-grupal`} />
        </p>
        <p class="mb-4 text-gray-600 dark:text-gray-300">
          Toda la configuración y el <strong>Dockerfile</strong> se encuentran en el repositorio, en la carpeta <span class="font-mono text-sm">grupo-a/</span>.
        </p>
        <p class="mb-4 text-gray-600 dark:text-gray-300">
          <strong>Conclusión:</strong> La integración de Docker en el proyecto no solo facilita la entrega y revisión, sino que también demuestra el dominio de herramientas modernas de despliegue y portabilidad, alineándose con las mejores prácticas de la industria del software.
        </p>
      </div>
    </section>

    <!-- Entrega del Proyecto y Recursos -->
    <section class="mb-12 text-gray-600 dark:text-gray-300">
      <h2 class="text-2xl font-bold mb-5 pt-2 text-indigo-800 dark:text-indigo-300">Entrega del Proyecto y Recursos</h2>
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm dark:shadow-none text-gray-600 dark:text-gray-300">
        <ul class="list-disc pl-8 mb-3 space-y-1">
          <li><strong>Repositorio en GitHub:</strong> <a href="https://github.com/edwinwmendeze/nrc-23731" class="text-indigo-600 dark:text-indigo-300 underline">https://github.com/edwinwmendeze/nrc-23731</a></li>
          <li><strong>Aplicación desplegada:</strong> <a href="https://edwinwmendez-grupo-a.vercel.app/" class="text-indigo-600 dark:text-indigo-300 underline">https://edwinwmendeze.github.io/nrc-23731/</a></li>
          <li><strong>Informe técnico:</strong> Este documento en formato .astro y .doc</li>
          <li><strong>Recursos adicionales:</strong>
            <ul class="list-disc pl-8">
              <li>GitHub Actions CI/CD: <a href="https://www.youtube.com/shorts/Kq28yBigDYw" class="text-indigo-600 dark:text-indigo-300 underline">Video</a></li>
              <li>Prototyping ORM model from JSON: <a href="https://medium.com/@piedjoustephane/prototyping-object-relational-mapping-orm-model-from-a-json-object-96eb0ea05ad4" class="text-indigo-600 dark:text-indigo-300 underline">Artículo</a></li>
            </ul>
          </li>
        </ul>
        <h3 class="font-bold text-lg mt-4 mb-2 text-indigo-700 dark:text-indigo-300 mb-4 text-lg">Instrucciones para ejecutar el proyecto localmente:</h3>
        <pre class="bg-gray-100 rounded p-4 text-sm overflow-x-auto text-gray-600 dark:text-gray-300 dark:bg-gray-800"><code>&lt;!-- Clonar el repositorio --&gt;
git clone https://github.com/edwinwmendeze/nrc-23731.git
cd grupo-a

&lt;!-- Instalar dependencias --&gt;
npm install

&lt;!-- Ejecutar en modo desarrollo --&gt;
npm run dev

&lt;!-- Ejecutar pruebas --&gt;
npm test
</code></pre>
        <div class="mt-6 p-4 bg-green-100 dark:bg-green-900 border-l-4 border-green-500 rounded">
          <h3 class="font-bold text-lg mb-2 text-green-800 dark:text-green-300 flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h4v4H3v-4zm0 6h4v4H3v-4zm6-6h4v4h-4v-4zm0 6h4v4h-4v-4zm6-6h4v4h-4v-4zm0 6h4v4h-4v-4z" /></svg>
            <span>Instrucciones para ejecutar el proyecto con Docker (Última entrega)</span>
          </h3>
          <pre class="bg-green-50 dark:bg-green-800 rounded p-4 text-sm overflow-x-auto text-green-900 dark:text-green-100"><code>git clone https://github.com/edwinwmendeze/nrc-23731.git
cd nrc-23731/grupo-a

docker build -t portafolio-grupal .
docker run -p 4321:4321 portafolio-grupal

# Abrir en el navegador: http://localhost:4321
</code></pre>
          <p class="mt-2 text-green-900 dark:text-green-100 text-sm">
            <strong>Nota:</strong> Se recomienda utilizar Docker para garantizar la portabilidad y reproducibilidad del entorno, evitando problemas de dependencias o configuración local.
          </p>
        </div>
      </div>
    </section>

    </div>  
</Layout>

<style>
  main {
    font-family: monospace;
    line-height: 1.6;
  }
  
  .completed .step-number {
    background-color: #10b981;
    color: white;
  }
  
  .pending .step-number {
    background-color: #9ca3af;
    color: white;
  }
  
  .completed .step-text {
    color: #10b981;
  }
  
  img {
    max-width: 100%;
    height: auto;
  }
  
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
  }
  
  @media (max-width: 768px) {
    .grid {
      grid-template-columns: 1fr;
    }
  }
</style>
