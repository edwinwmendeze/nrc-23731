---
import Layout from '../layouts/MainLayout.astro';

import { Code } from 'astro:components';
import CodeBlock from '../components/ui/CodeBlock.astro';

const progreso = [
  { paso: "Configuración inicial", completado: true },
  { paso: "Fase RED del BaseORM", completado: true },
  { paso: "Fase GREEN del BaseORM", completado: true },
  { paso: "Fase REFACTOR del BaseORM", completado: true },
  { paso: "Implementación ORM completa", completado: true },
  { paso: "Implementación del servicio de autenticación", completado: true },
  { paso: "Implementación del panel de administración", completado: true },
  { paso: "Tests unitarios y de integración", completado: true },
  { paso: "CI/CD con GitHub Actions", completado: true }
];
---

<Layout title="Informe Técnico PA3">
  <main class="container mx-auto px-4 py-8 max-w-4xl bg-white dark:bg-gray-900">
    <!-- Portada y Datos del Equipo -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-5 pt-2 text-indigo-800 dark:text-indigo-300">Portada y Datos del Equipo</h2>
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm dark:shadow-none">
        <ul class="list-disc pl-8 mb-3 space-y-1">
          <li><strong>Nombre del Proyecto:</strong> Sistema de Gestión de Perfiles Estudiantiles</li>
          <li><strong>Integrantes:</strong>
            <ul class="list-disc pl-8">
              <li>Edwin Mendez — edwin.mendez@ejemplo.com</li>
              <li>Integrante 2 — correo2@ejemplo.com</li>
              <li>Integrante 3 — correo3@ejemplo.com</li>
              <li>Integrante 4 — correo4@ejemplo.com</li>
              <li>Integrante 5 — correo5@ejemplo.com</li>
            </ul>
          </li>
          <li><strong>Fecha de entrega:</strong> 26/04/2025</li>
          <li><strong>Docente:</strong> [Nombre del profesor]</li>
        </ul>
        <p class="mt-4 text-lg text-gray-600 dark:text-gray-300">
          Este informe describe el proceso de desarrollo de un sistema web para la gestión de perfiles estudiantiles, implementando un ORM sobre archivos JSON y aplicando TDD, pruebas unitarias y CI/CD.
        </p>
      </div>
    </section>

    <!-- Formación de Equipos -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-5 pt-2 text-indigo-800 dark:text-indigo-300">Formación de Equipos</h2>
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm dark:shadow-none">
        <p class="text-gray-600 dark:text-gray-300">
          El equipo se conformó considerando habilidades complementarias y experiencia previa en desarrollo web y testing. La comunicación se realizó mediante reuniones semanales y uso de herramientas colaborativas (GitHub, Discord).
        </p>
      </div>
    </section>

    <!-- Definición del Proyecto -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-5 pt-2 text-indigo-800 dark:text-indigo-300">Definición del Proyecto</h2>
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm dark:shadow-none">
        <p class="mb-4 text-lg text-gray-600 dark:text-gray-300">
          El proyecto consiste en una plataforma web para la gestión de perfiles estudiantiles, permitiendo:
        </p>
        <ul class="list-disc pl-8 mb-3 space-y-1">
          <li>Registro y autenticación de usuarios</li>
          <li>Visualización y edición de información de perfil</li>
          <li>Panel de administración para gestión de usuarios</li>
          <li>Persistencia de datos mediante archivos JSON utilizando un ORM propio</li>
        </ul>
        <p class="mb-4 text-lg text-gray-600 dark:text-gray-300">
          <strong>Objetivo General:</strong> Desarrollar un sistema robusto y seguro para la gestión de perfiles estudiantiles, aplicando buenas prácticas de ingeniería de software.
        </p>
        <p class="mb-4 text-lg text-gray-600 dark:text-gray-300">
          <strong>Objetivos Específicos:</strong>
        </p>
        <ul class="list-disc pl-8 mb-3 space-y-1">
          <li>Implementar un ORM personalizado sobre archivos JSON</li>
          <li>Aplicar TDD y pruebas unitarias en las funcionalidades críticas</li>
          <li>Automatizar el despliegue y pruebas con CI/CD</li>
          <li>Documentar el proceso de desarrollo y resultados</li>
        </ul>
        <!-- Espacio para imagen de arquitectura -->
        <!-- <img src="/ruta/a/tu/diagrama-arquitectura.png" alt="Diagrama de arquitectura" class="my-4" /> -->
      </div>
    </section>

    <!-- Índice -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-5 pt-2 text-indigo-800 dark:text-indigo-300">Índice</h2>
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm dark:shadow-none">
        <ol class="list-decimal pl-8 mb-3 space-y-1">
          <li>Progreso del Desarrollo</li>
          <li>Introducción</li>
          <li>Formación de Equipos</li>
          <li>Definición del Proyecto</li>
          <li>Diseño de Pruebas Unitarias</li>
          <li>Aplicación de TDD</li>
          <li>Uso de ORM</li>
          <li>Integración de Pruebas en el Flujo Ágil</li>
          <li>Documentación y Reporte</li>
          <li>Entrega del Proyecto y Recursos</li>
          <li>Anexos</li>
        </ol>
      </div>
    </section>

    <!-- Diseño de Pruebas Unitarias -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-5 pt-2 text-indigo-800 dark:text-indigo-300">Diseño de Pruebas Unitarias</h2>
      
      <!-- Introducción general a las pruebas unitarias -->
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm mb-8">
        <p class="mb-4">
          Las pruebas unitarias son fundamentales en nuestro proyecto, ya que permiten verificar de manera aislada y sistemática el funcionamiento correcto de cada componente individual. Para nuestro sistema, diseñamos un conjunto de pruebas enfocadas en tres componentes principales: el BaseORM (operaciones básicas de persistencia), el AuthService (seguridad y autenticación) y el ProfileORM (gestión especializada de perfiles).
        </p>
        
        <p>
          Utilizamos <strong>Vitest</strong> como framework de testing por su compatibilidad con TypeScript y su integración con nuestro entorno de desarrollo basado en Vite. Además, implementamos técnicas de mocking para simular el sistema de archivos, permitiendo pruebas aisladas y reproducibles.
        </p>
      </div>

      <!-- BaseORM -->
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm mb-8">
        <h3 class="text-xl font-semibold text-indigo-700 dark:text-indigo-300 mb-4">BaseORM - Pruebas fundamentales de persistencia</h3>
        
        <p class="mb-4">El BaseORM constituye la columna vertebral de nuestro sistema de persistencia. Sus pruebas están diseñadas para garantizar operaciones fundamentales de manejo de datos:</p>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
          <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
            <h4 class="font-semibold mb-2">Pruebas de Inicialización (initialize)</h4>
            <p class="mb-2 text-sm"><strong>Propósito:</strong> Verificar la correcta creación y gestión del almacenamiento de datos.</p>
            <p class="mb-2 text-sm"><strong>Escenarios probados:</strong></p>
            <ul class="list-disc pl-6 text-xs space-y-1">
              <li>Cuando el directorio no existe: debe crearlo automáticamente</li>
              <li>Cuando el directorio ya existe: no debe intentar recrearlo</li>
            </ul>
          </div>
          
          <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
            <h4 class="font-semibold mb-2">Pruebas de Lectura (findAll)</h4>
            <p class="mb-2 text-sm"><strong>Propósito:</strong> Garantizar la recuperación correcta de datos almacenados.</p>
            <p class="mb-2 text-sm"><strong>Escenarios probados:</strong></p>
            <ul class="list-disc pl-6 text-xs space-y-1">
              <li>Cuando no hay archivos: debe devolver un array vacío</li>
              <li>Cuando hay archivos JSON: debe cargarlos y parsearlos correctamente</li>
            </ul>
          </div>
        </div>
        
        <CodeBlock 
          title="Pruebas de Inicialización"
          filePath="/tests/lib/orm/BaseORM.test.ts"
          basePath="root"
          startLine={36}
          endLine={56}
          displayStartLine={36}
          highlightLines={[36]}
          lineNumbers={true}
          lang="ts"
        />
       
        <CodeBlock 
          title="Pruebas de Lectura(findAll)"
          filePath="/tests/lib/orm/BaseORM.test.ts"
          basePath="root"
          startLine={58}
          endLine={87}
          displayStartLine={58}
          highlightLines={[58]}
          lineNumbers={true}
          lang="ts"
        />
        <div class="mt-4 bg-blue-50 dark:bg-blue-900 p-3 rounded-lg border border-blue-200 dark:border-blue-700 text-center">
          <p class="text-sm mb-1">Para una revisión detallada del código de pruebas, se puede acceder al repositorio:</p>
          <a href="https://github.com/edwinwmendeze/nrc-23731/blob/main/grupo-a/tests/lib/orm/BaseORM.test.ts" target="_blank" class="text-blue-700 dark:text-blue-400 font-semibold hover:text-blue-900 dark:hover:text-blue-200 transition">Ver código completo de pruebas BaseORM en GitHub</a>
        </div>
      </div>
      
      <!-- AuthService -->
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm mb-8">
        <h3 class="text-xl font-semibold text-indigo-700 dark:text-indigo-300 mb-4">AuthService - Pruebas de seguridad y autenticación</h3>
        
        <p class="mb-4">El servicio de autenticación es crítico para la seguridad del sistema. Diseñamos pruebas exhaustivas para todos los aspectos de autenticación y autorización:</p>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
          <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
            <h4 class="font-semibold mb-2">Pruebas de Login</h4>
            <p class="mb-2 text-sm"><strong>Propósito:</strong> Verificar el proceso de autenticación de usuarios.</p>
            <p class="mb-2 text-sm"><strong>Escenarios probados:</strong></p>
            <ul class="list-disc pl-6 text-xs space-y-1">
              <li>Con credenciales correctas: debe autenticar y generar token</li>
              <li>Con contraseña incorrecta: debe rechazar el acceso</li>
              <li>Con usuario inexistente: debe informar adecuadamente</li>
            </ul>
          </div>
          
          <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
            <h4 class="font-semibold mb-2">Pruebas de Registro</h4>
            <p class="mb-2 text-sm"><strong>Propósito:</strong> Garantizar el registro seguro de nuevos usuarios.</p>
            <p class="mb-2 text-sm"><strong>Escenarios probados:</strong></p>
            <ul class="list-disc pl-6 text-xs space-y-1">
              <li>Con datos nuevos válidos: debe registrar correctamente</li>
              <li>Con username existente: debe rechazar para mantener unicidad</li>
              <li>Verificar hash de contraseña: nunca almacenar en texto plano</li>
            </ul>
          </div>
          
          <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
            <h4 class="font-semibold mb-2">Pruebas de Verificación de Token</h4>
            <p class="mb-2 text-sm"><strong>Propósito:</strong> Asegurar la validez de las sesiones mediante tokens JWT.</p>
            <p class="mb-2 text-sm"><strong>Escenarios probados:</strong></p>
            <ul class="list-disc pl-6 text-xs space-y-1">
              <li>Con token válido: debe validar correctamente</li>
              <li>Con token inválido: debe rechazar el acceso</li>
              <li>Extracción de información: debe recuperar datos del usuario</li>
            </ul>
          </div>
        </div>
        
        <CodeBlock 
          title="Pruebas de Login"
          filePath="/tests/lib/orm/AuthService.test.ts"
          basePath="root"
          startLine={50}
          endLine={74}
          displayStartLine={50}
          highlightLines={[50]}
          lineNumbers={true}
          lang="ts"
        />
        <div class="mt-4 mb-4 bg-blue-50 dark:bg-blue-900 p-3 rounded-lg border border-blue-200 dark:border-blue-700 text-center">
          <p class="text-sm mb-1">Para una revisión detallada del código de pruebas, se puede acceder al repositorio:</p>
          <a href="https://github.com/edwinwmendeze/nrc-23731/blob/main/grupo-a/tests/lib/services/AuthService.test.ts" target="_blank" class="text-blue-700 dark:text-blue-400 font-semibold hover:text-blue-900 dark:hover:text-blue-200 transition">Ver código completo de pruebas AuthService en GitHub</a>
        </div>
        
        <CodeBlock 
          title="Pruebas de Registro"
          filePath="/tests/lib/orm/AuthService.test.ts"
          basePath="root"
          startLine={76}
          endLine={142}
          displayStartLine={76}
          highlightLines={[76]}
          lineNumbers={true}
          lang="ts"
        />
        <div class="mt-4 mb-4 bg-blue-50 dark:bg-blue-900 p-3 rounded-lg border border-blue-200 dark:border-blue-700 text-center">
          <p class="text-sm mb-1">Para una revisión detallada del código de pruebas, se puede acceder al repositorio:</p>
          <a href="https://github.com/edwinwmendeze/nrc-23731/blob/main/grupo-a/tests/lib/services/AuthService.test.ts" target="_blank" class="text-blue-700 dark:text-blue-400 font-semibold hover:text-blue-900 dark:hover:text-blue-200 transition">Ver código completo de pruebas AuthService en GitHub</a>
        </div>
        
        <CodeBlock 
          title="Pruebas de verificación de token"
          filePath="/tests/lib/orm/AuthService.test.ts"
          basePath="root"
          startLine={144}
          endLine={162}
          displayStartLine={144}
          highlightLines={[144]}
          lineNumbers={true}
          lang="ts"
        />
        <div class="mt-4 mb-4 bg-blue-50 dark:bg-blue-900 p-3 rounded-lg border border-blue-200 dark:border-blue-700 text-center">
          <p class="text-sm mb-1">Para evaluar la implementación completa de las pruebas de seguridad:</p>
          <a href="https://github.com/edwinwmendeze/nrc-23731/blob/main/grupo-a/tests/lib/services/AuthService.test.ts" target="_blank" class="text-blue-700 dark:text-blue-400 font-semibold hover:text-blue-900 dark:hover:text-blue-200 transition">Ver código completo de pruebas AuthService en GitHub</a>
        </div>
      </div>
      
      <!-- ProfileORM -->
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm">
        <h3 class="text-xl font-semibold text-indigo-700 dark:text-indigo-300 mb-4">ProfileORM - Pruebas especializadas para gestión de perfiles</h3>
        
        <p class="mb-4">El ProfileORM extiende el BaseORM y agrega funcionalidades específicas para gestionar perfiles de usuario. Sus pruebas están organizadas por grupos funcionales:</p>
        
        <div class="mb-6">
          <h4 class="font-semibold mb-2 text-indigo-600 dark:text-indigo-300">1. Pruebas de búsqueda y filtrado</h4>
          <p class="mb-3 text-sm">Estas pruebas verifican la capacidad del sistema para encontrar perfiles según diversos criterios, esencial para la funcionalidad de búsqueda de la aplicación.</p>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-3 mb-3">
            <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">
              <h5 class="font-semibold text-sm">findByName</h5>
              <p class="text-xs mb-1"><strong>Propósito:</strong> Búsqueda de perfiles por nombre.</p>
              <p class="text-xs"><strong>Escenarios:</strong> Coincidencia exacta y parcial.</p>
            </div>
            
            <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">
              <h5 class="font-semibold text-sm">findBySkill</h5>
              <p class="text-xs mb-1"><strong>Propósito:</strong> Búsqueda por habilidades.</p>
              <p class="text-xs"><strong>Escenarios:</strong> Por nombre, palabra clave y sin coincidencias.</p>
            </div>
            
            <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">
              <h5 class="font-semibold text-sm">findBySkillType</h5>
              <p class="text-xs mb-1"><strong>Propósito:</strong> Filtrado por tipo de habilidad.</p>
              <p class="text-xs"><strong>Escenarios:</strong> Hard skills y soft skills.</p>
            </div>
          </div>
          
          <CodeBlock 
            title="Pruebas de búsqueda por nombre"
            filePath="/tests/lib/orm/ProfileORM.test.ts"
            basePath="root"
            startLine={145}
            endLine={161}
            displayStartLine={145}
            highlightLines={[145]}
            lineNumbers={true}
            lang="ts"
          />
          

          <CodeBlock 
            title="Pruebas de búsqueda por habilidad"
            filePath="/tests/lib/orm/ProfileORM.test.ts"
            basePath="root"
            startLine={163}
            endLine={183}
            displayStartLine={163}
            highlightLines={[163]}
            lineNumbers={true}
            lang="ts"
          />
          
          <CodeBlock 
            title="Pruebas de búsqueda por tipo de habilidad"
            filePath="/tests/lib/orm/ProfileORM.test.ts"
            basePath="root"
            startLine={185}
            endLine={198}
            displayStartLine={185}
            highlightLines={[185]}
            lineNumbers={true}
            lang="ts"
          />
        </div>
        
        <div class="mb-6">
          <h4 class="font-semibold mb-2 text-indigo-600 dark:text-indigo-300">2. Pruebas de gestión de habilidades</h4>
          <p class="mb-3 text-sm">Estas pruebas validan las operaciones CRUD específicas para habilidades dentro de perfiles, fundamentales para mantener perfiles actualizados.</p>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-3">
            <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">
              <h5 class="font-semibold text-sm">addSkill</h5>
              <p class="text-xs mb-1"><strong>Propósito:</strong> Añadir o actualizar habilidades en perfiles.</p>
              <p class="text-xs"><strong>Escenarios:</strong> Habilidad nueva y actualización de existente.</p>
            </div>
            
            <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">
              <h5 class="font-semibold text-sm">removeSkill</h5>
              <p class="text-xs mb-1"><strong>Propósito:</strong> Eliminar habilidades de perfiles.</p>
              <p class="text-xs"><strong>Escenarios:</strong> Eliminación correcta y manejo de habilidad inexistente.</p>
            </div>
          </div>
          
          <CodeBlock 
            title="Pruebas de añadir skill en ProfileORM"
            filePath="/tests/lib/orm/ProfileORM.test.ts"
            basePath="root"
            startLine={200}
            endLine={239}
            displayStartLine={200}
            highlightLines={[200]}
            lineNumbers={true}
            lang="ts"
          />
          
          <CodeBlock 
            title="Pruebas de eliminar skill en ProfileORM"
            filePath="/tests/lib/orm/ProfileORM.test.ts"
            basePath="root"
            startLine={241}
            endLine={264}
            displayStartLine={241}
            highlightLines={[241]}
            lineNumbers={true}
            lang="ts"
          />
        </div>
        
        <div class="mb-6">
          <h4 class="font-semibold mb-2 text-indigo-600 dark:text-indigo-300">3. Pruebas de validación y funcionalidades avanzadas</h4>
          <p class="mb-3 text-sm">Estas pruebas verifican tanto la integridad de los datos como características especializadas para el análisis de perfiles.</p>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-3 mb-3">
            <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">
              <h5 class="font-semibold text-sm">validateProfile</h5>
              <p class="text-xs mb-1"><strong>Propósito:</strong> Validar la integridad de los perfiles.</p>
              <p class="text-xs"><strong>Escenarios:</strong> Perfil válido y detección de errores.</p>
            </div>
            
            <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">
              <h5 class="font-semibold text-sm">findWithFeaturedProjects</h5>
              <p class="text-xs mb-1"><strong>Propósito:</strong> Filtrar perfiles con proyectos destacados.</p>
              <p class="text-xs"><strong>Escenarios:</strong> Con destacados y sin destacados.</p>
            </div>
            
            <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">
              <h5 class="font-semibold text-sm">getStats</h5>
              <p class="text-xs mb-1"><strong>Propósito:</strong> Generar estadísticas del sistema.</p>
              <p class="text-xs"><strong>Escenarios:</strong> Conteo de perfiles, habilidades y proyectos.</p>
            </div>
          </div>
          
          <CodeBlock 
            title="Pruebas de validación de perfil"
            filePath="/tests/lib/orm/ProfileORM.test.ts"
            basePath="root"
            startLine={266}
            endLine={291}
            displayStartLine={266}
            highlightLines={[266]}
            lineNumbers={true}
            lang="ts"
          />
          
          <CodeBlock 
            title="Pruebas de proyectos destacados"
            filePath="/tests/lib/orm/ProfileORM.test.ts"
            basePath="root"
            startLine={293}
            endLine={320}
            displayStartLine={293}
            highlightLines={[293]}
            lineNumbers={true}
            lang="ts"
          />
          
          <CodeBlock 
            title="Pruebas de estadísticas"
            filePath="/tests/lib/orm/ProfileORM.test.ts"
            basePath="root"
            startLine={322}
            endLine={334}
            displayStartLine={322}
            highlightLines={[322]}
            lineNumbers={true}
            lang="ts"
          />
        </div>
        
        <div class="bg-indigo-50 dark:bg-indigo-900 p-4 rounded-lg mb-4">
          <h4 class="font-semibold mb-2">Estrategia de cobertura</h4>
          <p class="text-sm">Las pruebas del ProfileORM fueron diseñadas para cubrir tanto los casos de uso típicos como los escenarios límite, incluyendo:</p>
          <ul class="list-disc pl-6 text-xs space-y-1 mt-2">
            <li>Casos positivos donde todo funciona según lo esperado</li>
            <li>Manejo de errores y excepciones</li>
            <li>Casos límite (datos vacíos, búsquedas sin resultados)</li>
            <li>Validación de integridad de datos</li>
            <li>Funcionalidades específicas de dominio (estadísticas, filtros especializados)</li>
          </ul>
        </div>
        
        <div class="mt-4 bg-blue-50 dark:bg-blue-900 p-3 rounded-lg border border-blue-200 dark:border-blue-700 text-center">
          <p class="text-sm mb-1">Para un análisis completo de las pruebas de gestión de perfiles:</p>
          <a href="https://github.com/edwinwmendeze/nrc-23731/blob/main/grupo-a/tests/lib/orm/ProfileORM.test.ts" target="_blank" class="text-blue-700 dark:text-blue-400 font-semibold hover:text-blue-900 dark:hover:text-blue-200 transition">Ver código completo de pruebas ProfileORM en GitHub</a>
          <p class="text-xs mt-1 text-gray-600 dark:text-gray-400">Este enlace permite acceder al código fuente para revisar en detalle la implementación de todas las pruebas unitarias del componente.</p>
        </div>
      </div>
    </section>

    <!-- Aplicación de TDD -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-5 pt-2 text-indigo-800 dark:text-indigo-300">Aplicación de TDD</h2>
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm dark:shadow-none">
        <p class="text-gray-600 dark:text-gray-300">
            La metodología TDD (Test-Driven Development) se aplicó rigurosamente en el desarrollo del sistema de autenticación, siguiendo el ciclo Red-Green-Refactor en cada iteración. A continuación se muestra cómo se implementó esta metodología en el desarrollo del servicio de autenticación.
        </p>
        
        <div class="bg-indigo-50 dark:bg-indigo-900 p-4 rounded-lg mb-6">
          <h3 class="font-semibold mb-2 text-indigo-700 dark:text-indigo-300">El ciclo TDD aplicado</h3>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div class="bg-red-50 dark:bg-red-900 p-3 rounded-lg border border-red-100 dark:border-red-700">
              <h4 class="font-bold text-red-800 dark:text-red-300 mb-1">1. RED</h4>
              <p class="text-sm">Escribimos primero las pruebas que definían los requisitos y comportamientos esperados. Estas pruebas fallaban inicialmente porque aún no existía implementación.</p>
            </div>
            <div class="bg-green-50 dark:bg-green-900 p-3 rounded-lg border border-green-100 dark:border-green-700">
              <h4 class="font-bold text-green-800 dark:text-green-300 mb-1">2. GREEN</h4>
              <p class="text-sm">Implementamos el código mínimo necesario para que las pruebas pasaran. Esta fase se centra en la funcionalidad, no en la optimización.</p>
            </div>
            <div class="bg-blue-50 dark:bg-blue-900 p-3 rounded-lg border border-blue-100 dark:border-blue-700">
              <h4 class="font-bold text-blue-800 dark:text-blue-300 mb-1">3. REFACTOR</h4>
              <p class="text-sm">Mejoramos el código manteniendo las pruebas en verde. Optimizamos, eliminamos duplicación y mejoramos la legibilidad.</p>
            </div>
          </div>
        </div>
        
        <h3 class="font-bold text-lg mt-5 mb-2 text-indigo-700 dark:text-indigo-300">Ciclo TDD - RED</h3>
        <img src="/images/pa3/authormorm-red.png" alt="Ciclo TDD - RED" class="my-2"/>
        <span class="text-xs">Referencia: <code>/tests/lib/orm/ProfileORM.test.ts</code>, líneas 334-365</span>
        
        <h3 class="font-bold text-lg mt-5 mb-2 text-indigo-700 dark:text-indigo-300">Ciclo TDD - GREEN</h3>
        <img src="/images/pa3/authormorm-green.png" alt="Ciclo TDD - GREEN" class="my-2"/>
        <span class="text-xs">Referencia: <code>/tests/lib/orm/ProfileORM.test.ts</code>, líneas 366-397</span>
        
        <h3 class="font-bold text-lg mt-5 mb-2 text-indigo-700 dark:text-indigo-300">Ciclo TDD - REFACTOR</h3>
        <img src="/images/pa3/authormorm-refactor.png" alt="Ciclo TDD - REFACTOR" class="my-2"/>
        <span class="text-xs">Referencia: <code>/tests/lib/orm/ProfileORM.test.ts</code>, líneas 398-429</span>
      </div>
      
    </section>

    <!-- Uso de ORM -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-5 pt-2 text-indigo-800 dark:text-indigo-300">Uso de ORM</h2>
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm dark:shadow-none">
        <p class="text-gray-600 dark:text-gray-300">
          Desarrollamos un sistema ORM (Object-Relational Mapping) personalizado para persistencia de datos usando archivos JSON, una alternativa ligera a bases de datos relacionales
          que proporciona una estructura clara para gestionar perfiles de usuario y autenticaciu00f3n.
        </p>

        <h3 class="font-bold text-lg mt-5 mb-2 text-indigo-700 dark:text-indigo-300">1. Arquitectura del ORM</h3>
        <p class="mb-3 text-gray-600 dark:text-gray-300">
          El sistema se diseu00f1u00f3 con una arquitectura de dos capas:
        </p>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-5">
          <div class="bg-gray-50 dark:bg-gray-700 p-5 rounded-lg shadow-sm">
            <h4 class="font-bold mb-2 text-indigo-700 dark:text-indigo-300">BaseORM</h4>
            <p class="mb-2 text-sm">Capa base genu00e9rica con operaciones CRUD fundamentales:</p>
            <ul class="list-disc pl-6 text-sm space-y-1">
              <li>findAll(): Obtener todas las entidades</li>
              <li>findById(): Buscar entidad por ID</li>
              <li>save(): Guardar nueva entidad</li>
              <li>update(): Actualizar entidad existente</li>
              <li>delete(): Eliminar entidad</li>
            </ul>
          </div>
          
          <div class="bg-gray-50 dark:bg-gray-700 p-5 rounded-lg shadow-sm">
            <h4 class="font-bold mb-2 text-indigo-700 dark:text-indigo-300">ProfileORM</h4>
            <p class="mb-2 text-sm">Capa especializada para perfiles con operaciones especu00edficas:</p>
            <ul class="list-disc pl-6 text-sm space-y-1">
              <li>findByName(): Bu00basqueda por nombre</li>
              <li>findBySkill(): Bu00basqueda por habilidad</li>
              <li>findBySkillType(): Filtrar por tipo de habilidad</li>
              <li>addSkill(): Au00f1adir habilidad a perfil</li>
              <li>validateProfile(): Validar datos de perfil</li>
            </ul>
          </div>
        </div>

        <!-- Implementaciu00f3n de BaseORM -->
        <img src="/images/pa3/baseorm_implementacion.png" alt="Implementaciu00f3n de BaseORM" class="rounded shadow mb-2" />
        <p class="text-xs text-gray-600 dark:text-gray-400 mb-5">Implementaciu00f3n de BaseORM mostrando mu00e9todos CRUD principales. Ubicaciu00f3n: <code>/src/lib/orm/BaseORM.ts</code>, lu00edneas 1-40.</p>

        <h3 class="font-bold text-lg mt-6 mb-2 text-indigo-700 dark:text-indigo-300">2. Ventajas del enfoque ORM sobre JSON</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-5">
          <div class="bg-green-50 dark:bg-green-900 p-4 rounded-lg border border-green-200 dark:border-green-700">
            <h4 class="font-bold mb-1">Ventajas</h4>
            <ul class="list-disc pl-6 text-sm space-y-1">
              <li>Bajo acoplamiento con la capa de persistencia</li>
              <li>Fu00e1cil de entender y mantener</li>
              <li>Sin dependencias externas de bases de datos</li>
              <li>Ideal para proyectos pequeu00f1os o prototipos</li>
              <li>Fu00e1cilmente desplegable en entornos serverless</li>
            </ul>
          </div>
          
          <div class="bg-yellow-50 dark:bg-yellow-900 p-4 rounded-lg border border-yellow-200 dark:border-yellow-700">
            <h4 class="font-bold mb-1">Limitaciones</h4>
            <ul class="list-disc pl-6 text-sm space-y-1">
              <li>Rendimiento limitado para grandes volu00famenes</li>
              <li>Sin soporte para transacciones complejas</li>
              <li>Operaciones de bu00basqueda avanzada mu00e1s costosas</li>
              <li>Sin soporte nativo para relaciones complejas</li>
              <li>Problemas potenciales de concurrencia</li>
            </ul>
          </div>
        </div>

        <h3 class="font-bold text-lg mt-6 mb-2 text-indigo-700 dark:text-indigo-300">3. Optimizaciones implementadas</h3>
        <p class="mb-3 text-gray-600 dark:text-gray-300">Para mejorar el rendimiento y la usabilidad del ORM, implementamos varias optimizaciones:</p>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-5">
          <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg shadow-sm">
            <h4 class="font-bold text-indigo-700 dark:text-indigo-300 mb-1">Cacheo en memoria</h4>
            <p class="text-sm">Almacenamos resultados de operaciones frecuentes en memoria para reducir accesos a disco.</p>
          </div>
          <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg shadow-sm">
            <h4 class="font-bold text-indigo-700 dark:text-indigo-300 mb-1">Indexaciu00f3n</h4>
            <p class="text-sm">Creamos u00edndices para campos consultados frecuentemente como nombre o tipo de habilidad.</p>
          </div>
          <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg shadow-sm">
            <h4 class="font-bold text-indigo-700 dark:text-indigo-300 mb-1">Patru00f3n Singleton</h4>
            <p class="text-sm">Implementamos el patru00f3n Singleton para asegurar una sola instancia del ORM.</p>
          </div>
        </div>

        <h3 class="font-bold text-lg mt-6 mb-2 text-indigo-700 dark:text-indigo-300">4. Ejemplo de uso en el cu00f3digo</h3>
        <p class="mb-2 text-gray-600 dark:text-gray-300">Ejemplo del uso del ORM para gestionar perfiles de usuario:</p>
        
        <!-- Ejemplo de uso del ORM en el servicio de perfiles -->
        <img src="/images/pa3/profileorm_usage.png" alt="Uso del ProfileORM en servicios de perfil" class="rounded shadow mb-2" />
        <p class="text-xs text-gray-600 dark:text-gray-400 mb-4">Ubicaciu00f3n: <code>/src/lib/services/profileService.ts</code>, lu00edneas 20-45. Observe cu00f3mo se utiliza el patru00f3n Singleton para acceder al ORM y gestionar los perfiles.</p>
        
        <!-- Nota importante sobre el uso del ORM -->
        <div class="bg-blue-50 dark:bg-blue-900 p-3 rounded border border-blue-200 dark:border-blue-700 mb-5">
          <p class="text-sm"><strong>Nota:</strong> El patru00f3n de diseu00f1o utilizado facilita el testing y el intercambio de implementaciones. Esto fue especialmente u00fatil durante la fase de desarrollo cuando necesitu00e1bamos probar diferentes estrategias de almacenamiento.</p>
        </div>

        <h3 class="font-bold text-lg mt-6 mb-2 text-indigo-700 dark:text-indigo-300">5. Desafu00edo superado</h3>
        <div class="bg-yellow-50 dark:bg-yellow-900 p-5 rounded-lg mb-5">
          <h4 class="font-bold text-yellow-800 dark:text-yellow-300 mb-2">Desafu00edo: IDs en archivos JSON</h4>
          <p class="mb-2 text-gray-600 dark:text-gray-400">Los archivos JSON no tenu00edan un campo ID consistente, lo que complicaba la bu00basqueda.</p>
          <p class="font-semibold">Soluciu00f3n:</p>
          <ul class="list-disc pl-6 space-y-1">
            <li>Usamos los nombres de archivo como IDs</li>
            <li>Implementamos generaciu00f3n automu00e1tica de IDs basada en slugify del nombre</li>
            <li>Desarrollamos un sistema de validaciu00f3n de unicidad</li>
          </ul>
        </div>

        <h3 class="font-bold text-lg mt-6 mb-2 text-indigo-700 dark:text-indigo-300">6. Resultados y mu00e9tricas</h3>
        <p class="mb-3 text-gray-600 dark:text-gray-300">El ORM desarrollado ha demostrado ser efectivo para nuestra aplicaciu00f3n:</p>
        <ul class="list-disc pl-8 mb-5 space-y-1">
          <li><strong>Tiempo de respuesta:</strong> &lt;100ms para operaciones CRUD bu00e1sicas</li>
          <li><strong>Cobertura de pruebas:</strong> &gt;90% para todas las clases del ORM</li>
          <li><strong>Lu00edneas de cu00f3digo:</strong> ~350 lu00edneas para el ORM completo</li>
          <li><strong>Operaciones soportadas:</strong> 15+ operaciones especializadas para perfiles</li>
        </ul>
      </div>
    </section>

    <!-- Integración de Pruebas en el Flujo Ágil -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-5 pt-2 text-indigo-800 dark:text-indigo-300">Integración de Pruebas en el Flujo Ágil</h2>
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm dark:shadow-none">
        <p class="text-gray-600 dark:text-gray-300">
          Las pruebas unitarias y de integración fueron incorporadas en el flujo de trabajo ágil del equipo, siguiendo los principios de Integración Continua (CI) y Entrega Continua (CD).
        </p>
        <h3 class="font-bold text-lg mt-4 mb-2 text-indigo-700 dark:text-indigo-300">Implementación de CI/CD con GitHub Actions</h3>
        <p class="text-gray-600 dark:text-gray-300">Se configuró un pipeline de CI/CD que ejecuta automáticamente las pruebas en cada push o pull request:</p>
        <pre class="bg-gray-100 rounded p-4 text-sm overflow-x-auto"><code>&lt;!-- .github/workflows/ci.yml --&gt;
name: CI

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
      - name: Install dependencies
        run: npm ci
      - name: Run tests
        run: npm test
</code></pre>
        <h3 class="font-bold text-lg mt-4 mb-2 text-indigo-700 dark:text-indigo-300">Beneficios observados:</h3>
        <ul class="list-disc pl-8 mb-3 space-y-1">
          <li>Detección temprana de errores</li>
          <li>Mayor confianza en los cambios realizados</li>
          <li>Reducción del tiempo de integración</li>
          <li>Mejora en la calidad del código</li>
        </ul>
      </div>
    </section>

    <!-- Documentación y Reporte -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-5 pt-2 text-indigo-800 dark:text-indigo-300">Documentación y Reporte</h2>
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm dark:shadow-none">
        <p class="text-gray-600 dark:text-gray-300">
          La documentación del proyecto se realizó de manera continua y estructurada, utilizando diferentes herramientas y formatos:
        </p>
        <ul class="list-disc pl-8 mb-3 space-y-1">
          <li><strong>Documentación de código:</strong> Comentarios descriptivos y JSDoc</li>
          <li><strong>Documentación técnica:</strong> Este informe y diagramas de arquitectura</li>
          <li><strong>Documentación de pruebas:</strong> Casos de prueba y resultados</li>
        </ul>
        <p class="mt-4 text-gray-600 dark:text-gray-300">
          El proceso de documentación siguió estas etapas:
        </p>
        <ol class="list-decimal pl-8 mb-3 space-y-1">
          <li>Documentación inicial de requisitos y arquitectura</li>
          <li>Documentación de pruebas durante el desarrollo con TDD</li>
          <li>Documentación de la implementación del ORM</li>
          <li>Documentación del proceso de CI/CD</li>
          <li>Elaboración del informe técnico final</li>
        </ol>
      </div>
    </section>

    <!-- Entrega del Proyecto y Recursos -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-5 pt-2 text-indigo-800 dark:text-indigo-300">Entrega del Proyecto y Recursos</h2>
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm dark:shadow-none">
        <ul class="list-disc pl-8 mb-3 space-y-1">
          <li><strong>Repositorio en GitHub:</strong> <a href="https://github.com/edwinwmendeze/nrc-23731" class="text-indigo-600 dark:text-indigo-300 underline">https://github.com/edwinwmendeze/nrc-23731</a></li>
          <li><strong>Aplicación desplegada:</strong> <a href="https://edwinwmendeze.github.io/nrc-23731/" class="text-indigo-600 dark:text-indigo-300 underline">https://edwinwmendeze.github.io/nrc-23731/</a></li>
          <li><strong>Informe técnico:</strong> Este documento en formato .astro y .doc</li>
          <li><strong>Recursos adicionales:</strong>
            <ul class="list-disc pl-8">
              <li>GitHub Actions CI/CD: <a href="https://www.youtube.com/shorts/Kq28yBigDYw" class="text-indigo-600 dark:text-indigo-300 underline">Video</a></li>
              <li>Prototyping ORM model from JSON: <a href="https://medium.com/@piedjoustephane/prototyping-object-relational-mapping-orm-model-from-a-json-object-96eb0ea05ad4" class="text-indigo-600 dark:text-indigo-300 underline">Artículo</a></li>
            </ul>
          </li>
        </ul>
        <h3 class="font-bold text-lg mt-4 mb-2 text-indigo-700 dark:text-indigo-300">Instrucciones para ejecutar el proyecto localmente:</h3>
        <pre class="bg-gray-100 rounded p-4 text-sm overflow-x-auto"><code>&lt;!-- Clonar el repositorio --&gt;
git clone https://github.com/edwinwmendeze/nrc-23731.git
cd nrc-23731/grupo-a

&lt;!-- Instalar dependencias --&gt;
npm install

&lt;!-- Ejecutar en modo desarrollo --&gt;
npm run dev

&lt;!-- Ejecutar pruebas --&gt;
npm test
</code></pre>
      </div>
    </section>

    <!-- Anexos -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-5 pt-2 text-indigo-800 dark:text-indigo-300">Anexos</h2>
      <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm dark:shadow-none">
        <p class="text-gray-600 dark:text-gray-300">
          A continuación, se presentan capturas de pantalla, fragmentos de código y resultados de pruebas relevantes para el desarrollo del proyecto.
        </p>
        <h3 class="font-bold text-lg mt-4 mb-2 text-indigo-700 dark:text-indigo-300">Capturas de pantalla de la aplicación</h3>
        <!-- Espacio para capturas de pantalla -->
        <!-- <img src="/ruta/a/tu/captura1.png" alt="Pantalla de login" class="my-4" /> -->
        <!-- <img src="/ruta/a/tu/captura2.png" alt="Perfil de usuario" class="my-4" /> -->
        
        <h3 class="font-bold text-lg mt-4 mb-2 text-indigo-700 dark:text-indigo-300">Resultados de pruebas</h3>
        <!-- Espacio para capturas de resultados de pruebas -->
        <!-- <img src="/ruta/a/tu/resultados-tests.png" alt="Resultados de pruebas" class="my-4" /> -->
        
        <h3 class="font-bold text-lg mt-4 mb-2 text-indigo-700 dark:text-indigo-300">Diagrama de arquitectura</h3>
        <!-- Espacio para diagrama de arquitectura -->
        <!-- <img src="/ruta/a/tu/diagrama-arquitectura.png" alt="Diagrama de arquitectura" class="my-4" /> -->
      </div>
    </section>

      <CodeBlock 
      title="Implementacion"
  filePath="/tests/lib/orm/AuthService.test.ts"
  basePath="root"
  startLine={1}
  endLine={26}
  displayStartLine={16}
  highlightLines={[16]}
  lineNumbers={true}
  lang="ts"
/>
    </div>  
</Layout>

<style>
  main {
    font-family: monospace;
    line-height: 1.6;
  }
  
  .completed .step-number {
    background-color: #10b981;
    color: white;
  }
  
  .pending .step-number {
    background-color: #9ca3af;
    color: white;
  }
  
  .completed .step-text {
    color: #10b981;
  }
  
  img {
    max-width: 100%;
    height: auto;
  }
  
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
  }
  
  @media (max-width: 768px) {
    .grid {
      grid-template-columns: 1fr;
    }
  }
</style>